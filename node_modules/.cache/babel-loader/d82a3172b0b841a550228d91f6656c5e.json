{"ast":null,"code":"import { ExternalInteractorBase, getDistance, getLinkColor, getLinkRandomColor, isInArray, mouseMoveEvent } from \"tsparticles-engine\";\nimport { Grab } from \"./Options/Classes/Grab\";\nimport { drawGrab } from \"./Utils\";\nexport class Grabber extends ExternalInteractorBase {\n  constructor(container) {\n    super(container);\n  }\n\n  clear() {}\n\n  init() {\n    const container = this.container,\n          grab = container.actualOptions.interactivity.modes.grab;\n\n    if (!grab) {\n      return;\n    }\n\n    container.retina.grabModeDistance = grab.distance * container.retina.pixelRatio;\n  }\n\n  async interact() {\n    const container = this.container,\n          options = container.actualOptions,\n          interactivity = options.interactivity;\n\n    if (!interactivity.modes.grab || !interactivity.events.onHover.enable || container.interactivity.status !== mouseMoveEvent) {\n      return;\n    }\n\n    const mousePos = container.interactivity.mouse.position;\n\n    if (!mousePos) {\n      return;\n    }\n\n    const distance = container.retina.grabModeDistance;\n\n    if (!distance || distance < 0) {\n      return;\n    }\n\n    const query = container.particles.quadTree.queryCircle(mousePos, distance, p => this.isEnabled(p));\n\n    for (const particle of query) {\n      const pos = particle.getPosition(),\n            pointDistance = getDistance(pos, mousePos);\n\n      if (pointDistance > distance) {\n        continue;\n      }\n\n      const grabLineOptions = interactivity.modes.grab.links,\n            lineOpacity = grabLineOptions.opacity,\n            opacityLine = lineOpacity - pointDistance * lineOpacity / distance;\n\n      if (opacityLine <= 0) {\n        continue;\n      }\n\n      const optColor = grabLineOptions.color ?? particle.options.links?.color;\n\n      if (!container.particles.grabLineColor && optColor) {\n        const linksOptions = interactivity.modes.grab.links;\n        container.particles.grabLineColor = getLinkRandomColor(optColor, linksOptions.blink, linksOptions.consent);\n      }\n\n      const colorLine = getLinkColor(particle, undefined, container.particles.grabLineColor);\n\n      if (!colorLine) {\n        continue;\n      }\n\n      drawGrab(container, particle, colorLine, opacityLine, mousePos);\n    }\n  }\n\n  isEnabled(particle) {\n    const container = this.container,\n          mouse = container.interactivity.mouse,\n          events = (particle?.interactivity ?? container.actualOptions.interactivity).events;\n    return events.onHover.enable && !!mouse.position && isInArray(\"grab\", events.onHover.mode);\n  }\n\n  loadModeOptions(options) {\n    if (!options.grab) {\n      options.grab = new Grab();\n    }\n\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    for (const source of sources) {\n      options.grab.load(source?.grab);\n    }\n  }\n\n  reset() {}\n\n}","map":{"version":3,"names":["ExternalInteractorBase","getDistance","getLinkColor","getLinkRandomColor","isInArray","mouseMoveEvent","Grab","drawGrab","Grabber","constructor","container","clear","init","grab","actualOptions","interactivity","modes","retina","grabModeDistance","distance","pixelRatio","interact","options","events","onHover","enable","status","mousePos","mouse","position","query","particles","quadTree","queryCircle","p","isEnabled","particle","pos","getPosition","pointDistance","grabLineOptions","links","lineOpacity","opacity","opacityLine","optColor","color","grabLineColor","linksOptions","blink","consent","colorLine","undefined","mode","loadModeOptions","sources","source","load","reset"],"sources":["/Users/mohammedhusain/myportfolio/node_modules/tsparticles-interaction-external-grab/esm/Grabber.js"],"sourcesContent":["import { ExternalInteractorBase, getDistance, getLinkColor, getLinkRandomColor, isInArray, mouseMoveEvent, } from \"tsparticles-engine\";\nimport { Grab } from \"./Options/Classes/Grab\";\nimport { drawGrab } from \"./Utils\";\nexport class Grabber extends ExternalInteractorBase {\n    constructor(container) {\n        super(container);\n    }\n    clear() {\n    }\n    init() {\n        const container = this.container, grab = container.actualOptions.interactivity.modes.grab;\n        if (!grab) {\n            return;\n        }\n        container.retina.grabModeDistance = grab.distance * container.retina.pixelRatio;\n    }\n    async interact() {\n        const container = this.container, options = container.actualOptions, interactivity = options.interactivity;\n        if (!interactivity.modes.grab ||\n            !interactivity.events.onHover.enable ||\n            container.interactivity.status !== mouseMoveEvent) {\n            return;\n        }\n        const mousePos = container.interactivity.mouse.position;\n        if (!mousePos) {\n            return;\n        }\n        const distance = container.retina.grabModeDistance;\n        if (!distance || distance < 0) {\n            return;\n        }\n        const query = container.particles.quadTree.queryCircle(mousePos, distance, (p) => this.isEnabled(p));\n        for (const particle of query) {\n            const pos = particle.getPosition(), pointDistance = getDistance(pos, mousePos);\n            if (pointDistance > distance) {\n                continue;\n            }\n            const grabLineOptions = interactivity.modes.grab.links, lineOpacity = grabLineOptions.opacity, opacityLine = lineOpacity - (pointDistance * lineOpacity) / distance;\n            if (opacityLine <= 0) {\n                continue;\n            }\n            const optColor = grabLineOptions.color ?? particle.options.links?.color;\n            if (!container.particles.grabLineColor && optColor) {\n                const linksOptions = interactivity.modes.grab.links;\n                container.particles.grabLineColor = getLinkRandomColor(optColor, linksOptions.blink, linksOptions.consent);\n            }\n            const colorLine = getLinkColor(particle, undefined, container.particles.grabLineColor);\n            if (!colorLine) {\n                continue;\n            }\n            drawGrab(container, particle, colorLine, opacityLine, mousePos);\n        }\n    }\n    isEnabled(particle) {\n        const container = this.container, mouse = container.interactivity.mouse, events = (particle?.interactivity ?? container.actualOptions.interactivity).events;\n        return events.onHover.enable && !!mouse.position && isInArray(\"grab\", events.onHover.mode);\n    }\n    loadModeOptions(options, ...sources) {\n        if (!options.grab) {\n            options.grab = new Grab();\n        }\n        for (const source of sources) {\n            options.grab.load(source?.grab);\n        }\n    }\n    reset() {\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}